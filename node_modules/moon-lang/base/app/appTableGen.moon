generate = zb2rhchsqGDzj5UBppkaEa9wm1H5n6VvVgQkHq6ryvFdKXWh8
sum = zb2rhjoGFzi3J64cVbotEzhrvSA6L8zJzZFk53NBbLodnLsjP
appTableGen = zb2rhdWoK8XbPBoYrfJgZX5UWAVwLfs6smemPYyuVHi3cjM5m

table =>
  pos   = (get table "pos")
  sizes = (get table "sizes")
  cell  = (get table "cell")
  ws    = (get sizes "0")
  hs    = (get sizes "1")
  cols  = (get ws "length")
  rows  = (get hs "length")
  x     = (get pos "0")
  y     = (get pos "1")
  w     = (sum ws)
  h     = (sum hs)
  {
    type: "box"
    pos: pos
    size: [w h]
    children: (generate 0 (mul cols rows) n =>
      ci = (mod n cols)
      cj = (flr (div n cols))
      cx = (for 0 ci 0 i => (add (get ws (nts i))))
      cy = (for 0 cj 0 j => (add (get hs (nts j))))
      cw = (get ws (nts ci))
      ch = (get hs (nts cj))
      {
        type: "box"
        pos: [cx cy]
        size: [cw ch]
        children: [(cell ci cj)]
      })
  }
