appCounter = zb2rhmN4iWV6WVee1pCXTQYjakcxNKoMyaGfshF8Epz9Hki9U
appBox     = zb2rho3U2Ckcy56KLUPwHec2GB3kajv8DrjVuCC4SnFcVDCrZ
{
  type: "app",
  name: "ethereum-account-manager",
  state: {
    blockNumber: ""
    updating: 0
  },
  render: env =>
    {
      type: "box"
      pos: [0 0]
      size: [(env "width") (env "height")]
      unselectable: 1
      children: [
        {
          type: "box"
          pos: [0 0]
          size: [180 20]
          children: [
            (con "Block Number: " (get (env "state") "blockNumber"))
          ]
        }
        {
          type: "box"
          pos: [0 30]
          size: [54 20]
          background: "rgb(200,200,200)"
          cursor: "pointer"
          onClick: ask => return =>
            (ask "setState" {updating: 1 blockNumber: (get (env "state") "blockNumber")}
              (ask "eth" ["eth_blockNumber" ["latest"]] block =>
                (ask "setState" {blockNumber: block updating: 0} then =>
                  (return 0))))
          children: [
            "[update]"
          ]
        }
        {
          type: "box"
          pos: [60 30]
          size: [80 20]
          children: [(if (get (env "state") "updating") "Updating..." "")]
        }
      ]
    }
}
